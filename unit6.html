<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>CMPT 165 | Unit 6</title>

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/sky.css">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="lib/css/zenburn.css">
		<link href="https://fonts.googleapis.com/css?family=Titillium+Web" rel="stylesheet">
        <link rel="stylesheet" href="css/presentation.css">
		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>
	</head>
	<body>
		<div class="reveal titillium">
			<div class="slides">
				<section>
					<h2>CMPT 165</h2>
					<h4>Introduction to the Internet <br/>and the World Wide Web</h4>
					<p>
						<small>By <a href="https://shavarani.github.io/">Hassan S. Shavarani</a> </small>
					</p>
					<h5><i>Unit6: JavaScript and Graphics</i></h5>
				</section>
				<section>
					<h3 style="border-bottom: 1px solid gray">Topics</h3>
					<ol>
						<li class="non-transparent">More jQuery Methods</li>
                        <li class="non-transparent">JavaScript + SVG: Raphaël</li>
                        <li class="non-transparent">About SVG</li>
                        <li class="non-transparent">Working with SVG</li>
                        <li class="non-transparent">Animating SVG</li>
					</ol>
				</section>
                <section>
                    <h4><code>$</code> / <code>jQuery</code></h4>
                    <p>the jQuery library uses <code>$</code> <br/>to mean <em>exactly</em> the same thing as <code>jQuery</code></p>
                    <div class="code-block block-9">
                        <code>
                            jQuery('p').click(say_hello) <br/>
                            $('p').click(say_hello)<br/><br/>

                            jQuery('#changeme').html('Somebody clicked me.')<br/>
                            $('#changeme').html('Somebody clicked me.')
                        </code>
                    </div>
                </section>
                <section>
                    <h4>Different Ways to Modify the Page</h4>
                    <div class="code-block block-10">
                        <code>
                            $('#changeme').html('Somebody &lt;em&gt;clicked&lt;/em&gt; me.') <br/>
                            $('#changeme').attr('class', 'active') <br/>
                            $('img#changeme').attr('src', 'other_img.png') <br/>
                            $('section#expanding').append('&lt;p&gt;new paragraph.&lt;/p&gt;') <br/>
                            newstyle = { <br/>
                            &nbsp;&nbsp;&nbsp;&nbsp;'font-size': '1.5em', <br/>
                            &nbsp;&nbsp;&nbsp;&nbsp;'margin-left': '2em' <br/>
                            } <br/>
                            $('#styling').css(newstyle) <br/>
                            $('#styling').animate(newstyle, 2000)
                        </code>
                    </div>
                    <br/>
                    <small>
                        * the <code>.animate()</code> function can only animate CSS properties that are <em>numeric</em><br/>
                        e.g. it <strong>cannot</strong> animate <strong>font-weight</strong> from normal to bold, or colour values
                    </small>
                </section>
                <section>
                    <h4>JavaScript + SVG: <code>Raphaël</code></h4>
                    <p>the library used to create and manipulate <br/> SVG graphics on the page</p>
                    <p>the images are made up of <br/>shapes (vector graphics format) not pixels</p>
                </section>
                <section>
                    <h4>JavaScript + SVG: <code>Raphaël</code></h4>
                    <p>in <code><a href="http://dmitrybaranovskiy.github.io/raphael/">Raphaël</a></code>, we will use JavaScript code <br/> to create of manipulate those shapes</p>
                    <p>working with bitmapped images, <br/>there are libraries to help with that</p>
                    <p>vector images are just easier to work with to start with!</p>
                </section>
                <section>
                    <p>let's try <code>Raphaël</code> for the first time in <a
                            href="http://www.cs.sfu.ca/CourseCentral/165/common/study-guide/files/raph1.html">here</a>!</p>
                    <p>and <a href="examples/raph2.html">Here</a> is a more complicated example</p>
                </section>
                <section>
                    you can find out more about the <code>Rapha&euml;l</code> library <br/> in <a
                        href="http://dmitrybaranovskiy.github.io/raphael/reference.html">this reference</a>
                </section>
                <section>
                    <h4>SVG Images</h4>
                </section>
                <section>
                    <p>the SVG image format is strange in some ways</p>
                    <p>you use it like other image formats (PNG, JPEG, etc.)</p>
                    <p>but it technically has more in common with HTML</p>
                </section>
                <section>
                    <h4>The SVG Format</h4>
                    <p>SVG images are stored as text files, and contain tags and attributes, much like HTML</p>
                    <p><a href="https://www.w3.org/TR/SVG11/">here</a> you can find more about the rules on svg standard</p>
                </section>
                <section>
                    <h4>The SVG example</h4>
                    <img src="img/raph.svg" alt="Rapha&euml;l Example"/>
                </section>
                <section>
                    <h4>The SVG example - source code</h4>
                    <div class="code-block" style="font-size: 0.5em !important;">
                        <code>
                            &lt;svg height=&quot;300&quot; width=&quot;600&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot;&gt;<br/>
                            <br/>
                            &nbsp;&nbsp;&nbsp;&nbsp;&lt;ellipse cx=&quot;150&quot; cy=&quot;60&quot; rx=&quot;120&quot; ry=&quot;30&quot;<br/>
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fill=&quot;#00ff00&quot; stroke=&quot;#999999&quot; stroke-width=&quot;12&quot;&gt;<br/>
                            &nbsp;&nbsp;&nbsp;&nbsp;&lt;/ellipse&gt;<br/>
                            <br/>
                            &nbsp;&nbsp;&nbsp;&nbsp;&lt;text x=&quot;300&quot; y=&quot;150&quot; text-anchor=&quot;middle&quot; font-size=&quot;42px&quot;&gt;<br/>
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;tspan dy=&quot;15&quot;&gt;<br/>
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;I think this is going well.<br/>
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/tspan&gt;<br/>
                            &nbsp;&nbsp;&nbsp;&nbsp;&lt;/text&gt;<br/>
                            <br/>
                            &nbsp;&nbsp;&nbsp;&nbsp;&lt;rect x=&quot;450&quot; y=&quot;150&quot; rx=&quot;0&quot; ry=&quot;0&quot; fill=&quot;none&quot;<br/>
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;width=&quot;120&quot; height=&quot;90&quot; stroke=&quot;#007700&quot; stroke-width=&quot;3&quot;<br/>
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;transform=&quot;matrix(0.8,0.5,-0.5,0.8,165,-230)&quot;&gt;<br/>
                            &nbsp;&nbsp;&nbsp;&nbsp;&lt;/rect&gt;<br/>
                            <br/>
                            &lt;/svg&gt;
                        </code>
                    </div>
                </section>
                <section>
                    <p>for editing a SVG file you can use <a href="https://inkscape.org/">Inkscape</a>; <br/>a free, open-source, vector graphics editor</p>
                    <p>it is designed as an SVG editor <br/>the format that it works with by default and best is SVG</p>
                </section>
                <section>
                    <h4>Dynamically Modifying SVG</h4>
                    <p>Since we can use JavaScript code to modify SVG images<br/>we can do that work anywhere we want in our code</p>
                    <p>Lets try it <a
                            href="http://www.cs.sfu.ca/CourseCentral/165/common/study-guide/files/dynamic-page.html">here</a>!</p>
                </section>
                <section>
                    <h4><code>paper.path()</code> - Drawing Lines and Curves</h4>
                    <p>we can use the <code>paper.path()</code> function <br/>to draw lines and curves on the canvas!</p>
                    <p>we need to pass it a <em>path string</em> upon calling it</p>
                </section>
                <section>
                    <h4><code>paper.path()</code> - Drawing Lines and Curves</h4>
                    <p>before delving into the details, <br/>let's try an example first, <a
                            href="examples/raph3.html">here</a>!</p>
                </section>
                <section>
                    <h4><code>paper.path()</code> - Drawing Lines and Curves</h4>
                    <p>the <em>path string</em> is a series of these commands<br/>that will be used to draw the path</p>
                    <p>the path will contain the following commands [remember that (0,0) is in the upper-left]</p>
                    <ul style="font-size: 0.85em">
                        <li><strong>M</strong>: move to the point (x, y), e.g. <strong>'M50,20'</strong></li>
                        <li><strong>L</strong>: draw a straight line from current position to (x,y), e.g. <strong>'L390,30'</strong></li>
                        <li><strong>Z</strong>: close the path (draw a straight line back to the starting point)</li>
                        <li><strong>T</strong>: curve through br(draws a curve ending to the selected point), e.g. <strong>'T150,80'</strong></li>
                        <li><strong>Q</strong>: control point (chooses a point that &quot;pulls&quot; the curve toward it), e.g. <strong>'Q150,180 150,120'</strong></li>
                    </ul>
                </section>
                <section>
                    <h4><code>paper.text()</code></h4>
                    <p>draws a text string as a part of the SVG Image</p>

                    <br/><br/>
                    <div class="code-block">
                        <code>
                            var t = paper.text(50, 50, &quot;Rapha&euml;l\nis\ncool!&quot;); <br/>
                            <!--var txt = r.print(10, 50, &quot;print&quot;, <br/>
                            &nbsp;&nbsp;&nbsp;&nbsp;r.getFont(&quot;Museo&quot;), 30).attr({fill: &quot;#fff&quot;});
                            <br/>
                            txt[0].attr({fill: &quot;#f00&quot;});-->
                        </code>
                    </div>
                </section>
                <section>
                    <h4>Animating SVG</h4>
                </section>
                <section>
                    <h4><code>.animate()</code> function</h4>
                    <p>all the Rapha&euml;l shape objects have a <code>.animate()</code> function (as the exact function jQuery objects do)</p>
                    <p>when using <code>.animate()</code>, the <em>shapes' attributes</em> would change in an animated manner</p>
                </section>
                <section>
                    <h4><code>.animate()</code> function - Example</h4>
                    <div class="code-block block-6">
                        <code>
                            initial_attr = { <br/>
                            &nbsp;&nbsp;&nbsp;&nbsp;'fill': '#fff', <br/>
                            &nbsp;&nbsp;&nbsp;&nbsp;'stroke-width': '1' <br/>
                            } <br/>
                            final_attr = { <br/>
                            &nbsp;&nbsp;&nbsp;&nbsp;'fill': '#f00', <br/>
                            &nbsp;&nbsp;&nbsp;&nbsp;'stroke-width': '5'<br/>
                            }<br/>
                            rect = paper.rect(10, 10, 20, 20)<br/>
                            rect.attr(initial_attr)<br/>
                            rect.animate(final_attr, 2000)
                        </code>
                    </div>
                    <br/>
                    <small>
                        if we have a variable referring to the shape (<strong>rect</strong> in that example), <br/>
                        we can perform the animation any time, such as later when the user clicks something
                    </small>
                </section>
                <section>
                    <h4><em>transform string</em> attribute</h4>
                    <p>one of the most useful attributes to animate with Rapha&euml;l is the element's transformation</p>
                    <p><em>transform string</em> is used to specify the transformation and it can be done using following commands</p>
                    <ul>
                        <li><strong>t</strong> for translation (moving)</li>
                        <li><strong>r</strong> for rotation</li>
                        <li><strong>s</strong> for scaling</li>
                    </ul>
                </section>
                <section>
                    <h4><em>transform string</em> attribute example</h4>
                   <div class="code-block block-6">
                       <code>
                           rotated = { <br/>
                           &nbsp;&nbsp;&nbsp;&nbsp;'transform': 'r180'<br/>
                           }<br/>
                           shape.animate(rotated, 5000)<br/>
                           <br/>
                           slide_grow = {<br/>
                           &nbsp;&nbsp;&nbsp;&nbsp;'transform': 't100,200s3'<br/>
                           }<br/>
                           shape.animate(slide_grow, 1000)
                       </code>
                   </div>
                </section>
                <section>
                    <h4>Animating SVG - Examples</h4>
                    let's study these two examples carefully
                    <ul>
                        <li><a href="http://www.cs.sfu.ca/CourseCentral/165/common/study-guide/files/animate1.html">Example 1: User-Initiated Animation</a></li>
                        <li><a href="http://www.cs.sfu.ca/CourseCentral/165/common/study-guide/files/animate2.html">Example 2: Repeating Animation</a></li>
                    </ul>
                </section>
                <section>
                    <h4>Rapha&euml;l Questions</h4>
                </section>
                <section>
                    <h4>Question 1</h4>
                    <p>How can I change the background color of the Rapha&euml;l canvas itself?</p>
                    <div class="code-block block-8"><code>p2.canvas.style.backgroundColor = '#F00';</code></div>
                </section>
                <section>
                    <h4>Question 2</h4>
                    <p>How can I define a function for a Rapha&euml;l shape ?</p>
                    <div class="code-block block-8">
                        <code>
                            Raphael.el.red = function () { <br/>
                            &nbsp;&nbsp;&nbsp;&nbsp;this.attr({fill: "#f00"}); <br/>
                            }; <br/>
                            paper.circle(100, 100, 20).red();
                        </code>
                    </div>
                </section>
                <section>
                    <h4>Question 4</h4>
                    <p>How can I access the equivalent DOM Element of a Rapha&euml;l shape?</p>
                    <div class="code-block block-8">
                        <code>
                            var c = paper.circle(10, 10, 10); <br/>
                            c.node.onclick = function () { <br/>
                            &nbsp;&nbsp;&nbsp;&nbsp;c.attr("fill", "red"); <br/>
                            };
                        </code>
                    </div>
                </section>
                <section>
                    <h4>Question 5</h4>
                    <p>How can I define a bunch of functions that I can use later for Rapha&euml;l shapes?</p>
                    <div class="code-block block-10" style="font-size: 0.5em !important;">
                        <code>
                            Raphael.fn.arrow = function (x1, y1, x2, y2, size) { <br/>
                            &nbsp;&nbsp;&nbsp;&nbsp;return this.path( ... ); <br/>
                            }; <br/>
                            // or create namespace <br/>
                            Raphael.fn.mystuff = { <br/>
                            &nbsp;&nbsp;&nbsp;&nbsp;arrow: function () {...}, <br/>
                            &nbsp;&nbsp;&nbsp;&nbsp;star: function () {...}, <br/>
                            &nbsp;&nbsp;&nbsp;&nbsp;// etc ... <br/>
                            }; <br/>
                            var paper = Raphael(10, 10, 630, 480); <br/>
                            // then use it <br/>
                            paper.arrow(10, 10, 30, 30, 5).attr({fill: "#f00"}); <br/>
                            paper.mystuff.arrow(); <br/>
                            paper.mystuff.star();
                        </code>
                    </div>
                </section>
                <!--<section>
                    <h4>Another Example</h4>
                    <div class="code-block block-6" style="font-size: 0.5em !important;">
                        <code>
                            setup = function() { <br/>
                            &nbsp;&nbsp;&nbsp;&nbsp;paper = Raphael('container', 200, 100)<br/>
                            &nbsp;&nbsp;&nbsp;&nbsp;elli = paper.ellipse(50, 20, 40, 10)<br/>
                            &nbsp;&nbsp;&nbsp;&nbsp;elli.attr({<br/>
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'fill': '#0f0',<br/>
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'stroke': '#999',<br/>
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'stroke-width': '4'<br/>
                            &nbsp;&nbsp;&nbsp;&nbsp;})<br/>
                            &nbsp;&nbsp;&nbsp;&nbsp;caption = paper.text(100, 50, <br/>
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'I think this is going well.')<br/>
                            &nbsp;&nbsp;&nbsp;&nbsp;caption.attr({<br/>
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'font-size': '14',<br/>
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'font-family': 'serif'<br/>
                            &nbsp;&nbsp;&nbsp;&nbsp;})<br/>
                            &nbsp;&nbsp;&nbsp;&nbsp;rect = paper.rect(150, 50, 40, 30)<br/>
                            &nbsp;&nbsp;&nbsp;&nbsp;rect.attr({<br/>
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'transform': 'r30',<br/>
                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'stroke': '#070'<br/>
                            &nbsp;&nbsp;&nbsp;&nbsp;})<br/>
                            }<br/>
                            jQuery(document).ready(setup)
                        </code>
                    </div>
                </section>

				<section>
					<h4></h4>
					<img src="" alt="" width="700">
					<small>* image from </small>
				</section>
				<section><aside class="notes"></aside></section>-->
				<section><a href="https://shavarani.github.io/cmpt165/">Any Questions?</a></section>
			</div>
		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>
            Reveal.initialize({
                controls: true,
                progress: true,
                history: true,
                center: true,

                transition: 'slide', // none/fade/slide/convex/concave/zoom

                // More info https://github.com/hakimel/reveal.js#dependencies
                dependencies: [
                    { src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
                    { src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
                    { src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
                    { src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
                    { src: 'plugin/search/search.js', async: true },
                    { src: 'plugin/zoom-js/zoom.js', async: true },
                    { src: 'plugin/notes/notes.js', async: true }
                ]
            });
            Reveal.configure({ slideNumber: true });
            Reveal.configure({ slideNumber: 'c/t' });
            //Reveal.configure({ showSlideNumber: 'speaker'});
		</script>
	</body>
</html>
